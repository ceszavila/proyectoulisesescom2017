\begin{UseCase}{CUR 7}{Modificar información escolar}
    {
    Este caso de uso es utilizado cuando el actor detecta que la información registrada de la escuela presenta errores o  requiere hacer una actualización dentro del periodo de registro, una vez realizados los cambios el sistema valida y registra la información.
    }
    \UCitem{Versión}{0.3}
    \UCccsection{Administración de Requerimientos}
    \UCitem{Autor}{Victor Lozano Ortega}
    \UCccitem{Evaluador}{José David Ortega Pacheco}
    \UCitem{Operación}{Modificar}
    \UCccitem{Prioridad}{Alta}
    \UCccitem{Complejidad}{Baja}
    \UCccitem{Volatilidad}{Baja}
    \UCccitem{Madurez}{Alta}
    \UCitem{Estatus}{Terminado}
    \UCitem{Fecha del último estatus}{5 de Noviembre del 2014}
    
%% Copie y pegue este bloque tantas veces como revisiones tenga el caso de uso.
%% Esta sección la debe llenar solo el Revisor
% %--------------------------------------------------------
% 	\UCccsection{Revisión Versión XX} % Anote la versión que se revisó.
% 	% FECHA: Anote la fecha en que se terminó la revisión.
% 	\UCccitem{Fecha}{Fecha en que se termino la revisión} 
% 	% EVALUADOR: Coloque el nombre completo de quien realizó la revisión.
% 	\UCccitem{Evaluador}{Nombre de quien revisó}
% 	% RESULTADO: Coloque la palabra que mas se apegue al tipo de acción que el analista debe realizar.
% 	\UCccitem{Resultado}{Corregir, Desechar, Rehacer todo, terminar.}
% 	% OBSERVACIONES: Liste los cambios que debe realizar el Analista.
% 	\UCccitem{Observaciones}{
% 		\begin{UClist}
% 			% PC: Petición de Cambio, describa el trabajo a realizar, si es posible indique la causa de la PC. Opcionalmente especifique la fecha en que considera razonable que se deba terminar la PC. No olvide que la numeración no se debe reiniciar en una segunda o tercera revisión.
% 			\RCitem{PC1}{\TOCHK{Actualizar fechas de ultimo status}}{Fecha de entrega}
% 			\RCitem{PC2}{\TOCHK{Propósito: Actualizar la información registrada de la escuela}}{Fecha de entrega}
% 			\RCitem{PC3}{\TOCHK{Quitar ls divisiones en la tabla en la parte de salidas}}{Fecha de entrega}
% 			\RCitem{PC3}{\TOCHK{Revisar la ortografía Número}}{Fecha de entrega} 			
% 			\RCitem{PC3}{\TOCHK{Quitar el error de  NO SE ENCONTRO INFORMACIÓN SUSTANTIVA}}{Fecha de entrega} 		
% 			\RCitem{PC3}{\TOCHK{Tipo: Secundario}}{Fecha de entrega} 			 				 			
% 			\RCitem{PC3}{\TOCHK{De la trayectoria, paso 1. quitar EL REGISTRO CORRESPONDIENTE}}{Fecha de entrega} 	
% 			\RCitem{PC3}{\TOCHK{No hay Trayectoria alternativa en el paso 2}}{Fecha de entrega} 			 			
% 			\RCitem{PC3}{\DONE{Realizar una verificación por trayectoria alterna  }}{Fecha de entrega} 			 	
% 			\RCitem{PC3}{\TOCHK{Registra los cambios realizados en la información de la escuela  }}{Fecha de entrega}
% 			\RCitem{PC3}{\TOCHK{Modificar la pantalla con las nuevas modificaciones acorde a la pantalla de Completar información  }}{Fecha de entrega}
 			
 			
% 			\RCitem{PC3}{\TOCHK{Resumen: presenta errores o requiere hacer una actualización dentro del periodo de registro}}{Fecha de entrega} 			 				 				 				 			 			
% 			\RCitem{PC3}{\TOCHK{Pantalla de modificar información escolar está incompleta en la figura, le hacen falta campos}}{Fecha de entrega} 			 				 			 			 			
% 			\RCitem{PC3}{\TOCHK{En la trayectoria principal en el paso uno, unicamente hay un registro, no es el registro correspondiente}}{Fecha de entrega} 			 				 			 			 			
% 		\end{UClist}		
%	}
% %--------------------------------------------------------
 
    \UCsection{Atributos}
    \UCitem{Actores}{\cdtRef{actor:usuarioEscuela}{Coordinador del programa}}
    \UCitem{Propósito}{Actualizar la información registrada de la escuela.}
    \UCitem{Entradas}{
	\begin{UClist}
          \UCli \cdtRef{escuela:region}{Región}. \ioSeleccionar.
          \UCli \cdtRef{escuela:numeroDias}{Número de días que la escuela labora al año}. \ioEscribir.
          \UCli \cdtRef{escuela:totalHabitantes}{Total de habitantes de la localidad}. \ioEscribir.
	  \UCli \cdtRef{escuela:superficieTotal}{Superficie total del predio}. \ioEscribir.	  
	  \UCli \cdtRef{escuela:superficieConstruida}{Superficie total constrída}. \ioEscribir.          
          \UCli \cdtRef{comunidad:docentesF}{Docentes femeninos}. \ioEscribir.
          \UCli \cdtRef{comunidad:docentesM}{Docentes masculinos}. \ioEscribir.
          \UCli \cdtRef{comunidad:adminF}{Personal administrativo femenino}. \ioEscribir.
          \UCli \cdtRef{comunidad:adminM}{Personal administrativo masculino}. \ioEscribir.
          \UCli \cdtRef{comunidad:alumnosF}{Alumnos femeninos}. \ioEscribir.
          \UCli \cdtRef{comunidad:alumnosM}{Alumnos masculinos}. \ioEscribir.
          \UCli \cdtRef{comunidad:limpiezaF}{Personal de limpieza y mantenimiento femenino}. \ioEscribir.
          \UCli \cdtRef{comunidad:limpiezaM}{Personal de limpieza y mantenimiento masculino}. \ioEscribir.
%           \UCli \cdtRef{comunidad:apoyoF}{Personal de mantenimiento femenino}. \ioEscribir.
%           \UCli \cdtRef{comunidad:apoyoM}{Personal de mantenimiento masculino}. \ioEscribir.
          \UCli \cdtRef{comunidad:apoyoF}{Personal de apoyo femenino}. \ioEscribir.
          \UCli \cdtRef{comunidad:apoyoM}{Personal de apoyo masculino}. \ioEscribir.
          \UCli \cdtRef{comunidad:visitantesF}{Visitantes femeninos (promedio diario)}. \ioEscribir.
          \UCli \cdtRef{comunidad:visitantesM}{Visitantes masculinos  (promedio diario)}. \ioEscribir.
    \end{UClist}
    }
    \UCitem{Salidas}{
      \begin{UClist} 
      \UCli \cdtRef{escuela:cct}{Clave de centro de trabajo}. {\ioObtener}.
      \UCli \cdtRef{escuela:nombreEscuela}{Nombre de la escuela}. {\ioObtener}.
      \UCli \cdtRef{escuela:cicloEscolar}{Ciclo escolar}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:nivelEscolar}{Nivel escolar}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:turno}{Turno}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:calle}{Calle}. {\ioObtener}.
      \UCli \cdtRef{escuela:numero}{Número}. {\ioObtener}.
      \UCli \cdtRef{escuela:localidad}{Localidad}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:municipio}{Municipio}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:codigoPostal}{Código postal}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:ambito}{Ámbito}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:control}{Control}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:servicio}{Servicio}. {\ioObtener{}}.
      \UCli \cdtRef{escuela:region}{Región}.  {\ioObtener{}}.
      \UCli \cdtRef{escuela:numeroDias}{Número de días que la escuela labora al año}. \ioObtener.
      \UCli \cdtRef{escuela:totalHabitantes}{Total de habitantes de la localidad}. \ioObtener.
      \UCli \cdtRef{escuela:superficieTotal}{Superficie total del predio}. \ioObtener.	  
      \UCli \cdtRef{escuela:superficieConstruida}{Superficie total constrída}. \ioObtener.
      \UCli \cdtRef{comunidad:docentesF}{Docentes femeninos}. \ioObtener.
      \UCli \cdtRef{comunidad:docentesM}{Docentes masculinos}. \ioObtener.
      \UCli \cdtRef{comunidad:adminF}{Personal administrativo femenino}. \ioObtener.
      \UCli \cdtRef{comunidad:adminM}{Personal administrativo masculino}. \ioObtener.
      \UCli \cdtRef{comunidad:alumnosF}{Alumnos femeninos}. \ioObtener.
      \UCli \cdtRef{comunidad:alumnosM}{Alumnos masculinos}. \ioObtener.
      \UCli \cdtRef{comunidad:limpiezaF}{Personal de limpieza  y mantenimiento femenino}. \ioObtener.
      \UCli \cdtRef{comunidad:limpiezaM}{Personal de limpieza  y mantenimiento masculino}. \ioObtener.
%           \UCli \cdtRef{comunidad:apoyoF}{Personal de mantenimiento femenino}. \ioObtener.
%           \UCli \cdtRef{comunidad:apoyoM}{Personal de mantenimiento masculino}. \ioObtener.
      \UCli \cdtRef{comunidad:apoyoF}{Personal de apoyo femenino}. \ioObtener.
      \UCli \cdtRef{comunidad:apoyoM}{Personal de apoyo masculino}. \ioObtener.
      \UCli \cdtRef{comunidad:visitantesF}{Visitantes femeninos  (promedio diario)}. \ioObtener.
      \UCli \cdtRef{comunidad:visitantesM}{Visitantes masculinos  (promedio diario)}. \ioObtener.
      \UCli \cdtIdRef{MSG1}{Operación realizada exitosamente}: Se muestra en la pantalla \cdtIdRef{IUR 5}{Administrar información escolar} cuando la escuela ha sido modificada exitosamente.
      \end{UClist}
      }
    \UCitem{Precondiciones}{
	\begin{UClist}
		   \UCli {\bf Interna:} Que la escuela esté registrada en el sistema.
			\UCli {\bf Interna:} Que la escuela se encuentre en estado \cdtRef{estado:inscrita}{inscrita}.	    
			\UCli {\bf Interna:} Que el periodo de registro de escuelas se encuentre vigente.
	\end{UClist}
    }
    \UCitem{Postcondiciones}{
	\begin{UClist}
        \UCli {\bf Interna:} El actor podrá admnistrar los datos de la escuela.
	\end{UClist}
    }
    \UCitem{Reglas de negocio}{
    	\begin{UClist}
            \UCli \cdtIdRef{RN-S1}{Información correcta}: Verifica que la información introducida sea correcta.
	\end{UClist}
    }
    \UCitem{Errores}{
      \begin{UClist}
      \UCli \cdtIdRef{MSG4}{No se encontró información sustantiva}: Se muestra en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} cuando no hay información referente a la escuela.
      \UCli \cdtIdRef{MSG5}{Falta un dato requerido para efectuar la operación solicitada}: Se muestra en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} cuando no se ha ingresado un dato marcado como obligatorio.
      \UCli \cdtIdRef{MSG6}{Formato incorrecto}: Se muestra en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} especificando el dato cuyo valor no cumple con el tipo de dato definido en el diccionario de datos.
      \UCli \cdtIdRef{MSG7}{Se ha excedido la longitud máxima del campo}: Se muestra en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} cuando el actor proporciona un dato que excede la longitud máxima.
      \UCli \cdtIdRef{MSG18}{Error en la región}: Se muestra en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} para notificar al actor que la escuela no se encuentra en un municipio asociado a la región seleccionada.
	  \UCli \cdtIdRef{MSG3}{Superficies del predio}: Se muestra en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} para notificar al actor que la superficie construida que ha ingresado supera la superficie total del predio.

     \UCli \cdtIdRef{MSG28}{Operación no permitida por estado de la entidad}: Se muestra sobre la pantalla \cdtIdRef{IUR 5}{Administrar información escolar} indicando al actor que no se puede modificar la información escolar debido al estado en que se encuentra la escuela.
		\UCli	\cdtIdRef{MSG41}{Acción fuera del periodo}: Se muestra sobre la pantalla \cdtIdRef{IUR 5}{Administrar información escolar} para indicarle al actor que no puede modificar la información escolar debido a que la fecha actual se encuentra fuera del periodo definido por la SMAGEM para realizar el registro de escuelas.


      \end{UClist}
    }
    \UCitem{Tipo}{Secundario, extiende del caso de uso \cdtIdRef{CUR 5}{Administrar información escolar}.}
    \UCitem{Fuente}{
    \begin{UClist}
      \UCli Minuta de la reunión \cdtIdRef{M-3TR}{Toma de requerimientos}.
    \end{UClist}
  }
  \end{UseCase}

 \begin{UCtrayectoria}
    \UCpaso[\UCactor] Solicita modificar la información de la escuela oprimiendo el botón \botEdit del registro, en la pantalla \cdtIdRef{IUR 5}{Administrar información escolar}.

    \UCpaso[\UCsist] Verifica que la escuela se encuentre es estado ``Inscrita''. \refTray{A}
    \UCpaso[\UCsist] Verifica que la fecha actual se encuentre dentro del periodo definido por parte de la SMAGEM para el registro de escuelas. \refTray{B}

    \UCpaso[\UCsist] Busca los datos de la escuela registrados en el sistema.
    \UCpaso[\UCsist] Busca la información del catalogo de regiones en el sistema. \refTray{C}
    \UCpaso[\UCsist] Muestra la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} por medio de la cual se modificará el registro de la escuela.
    \UCpaso[\UCactor] Modifica los datos de la escuela en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar}. \label{cur7:Acciones}
    \UCpaso[\UCactor] Solicita guardar los datos de la escuela oprimiendo el botón \cdtButton{Aceptar} de la pantalla \cdtIdRef{IUR 7}{Modificar información escolar}. \refTray{D}
    
    \UCpaso[\UCsist] Verifica que la escuela se encuentre es estado ``Inscrita''. \refTray{A}
    \UCpaso[\UCsist] Verifica que la fecha actual se encuentre dentro del periodo definido por parte de la SMAGEM para el registro de escuelas. \refTray{B}
        
    \UCpaso[\UCsist] Verifica que los datos introducidos por el actor sean correctos como lo indica la regla de negocio \cdtIdRef{RN-S1}{Información correcta}. \refTray{E} \refTray{F} \refTray{G} \refTray{H}
    \UCpaso[\UCsist] Verifica que la superficie construida no supere la superficie total del predio como lo indica la regla de negocio \cdtIdRef{RN-N6}{Superficies del predio}. \refTray{I}
%     \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG9}{Confirmar la modificación de un registro} como \cdtRef{fig:pantallaEmergente}{pantalla emergente}, indicando al actor que al guardar las modificaciones se perderá la información previa.
%     \UCpaso[\UCactor] Confirma la modificación de la escuela oprimiendo el botón \cdtButton{Aceptar} de la \cdtRef{fig:pantallaEmergente}{pantalla emergente}. \refTray{F}
    \UCpaso[\UCsist] Registra los cambios realizados a la información de la escuela en el sistema.\label{cur7:termina}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG1}{Operación realizada exitosamente} en la pantalla \cdtIdRef{IUR 5}{Administrar información escolar} cuando la escuela ha sido modificada exitosamente.
 \end{UCtrayectoria}

 \begin{UCtrayectoriaA}[Fin del caso de uso]{A}{La escuela no se encuentra en el estado ``Inscrita''}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG28}{Operación no permitida por estado de la entidad} en la pantalla \cdtIdRef{IUR 5}{Administrar información escolar} indicando al actor que no puede modificar la información escolar debido a que la escuela no se encuentra en estado ``Inscrita''.
 \end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}[Fin del caso de uso]{B}{La fecha actual se encuentra fuera del periodo definido por la SMAGEM para el registro de escuelas}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG41}{Acción fuera del periodo} en la pantalla \cdtIdRef{IUR 5}{Administrar información escolar} indicando al actor que no puede modificar la información escolar debido a que la fecha actual se encuentra fuera del periodo definido por la SMAGEM para realizar la acción.
 \end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}[Fin de caso de uso]{C}{No existe información en el catálogo de regiones.}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG4}{No se encontró información sustantiva} en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} indicando que no hay información en el catalogo de regiones en el sistema.
  \end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}[Fin de caso de uso]{D}{El actor desea cancelar la operación.}
    \UCpaso[\UCactor] Solicita cancelar la operación oprimiendo el botón \cdtButton{Cancelar} en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar}.
    \UCpaso[\UCsist] Muestra la pantalla \cdtIdRef{IUR 5}{Administrar información escolar}.
 \end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}{E}{El actor proporciona un dato que excede la longitud máxima.}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG7}{Se ha excedido la longitud máxima del campo} en la pantalla \cdtIdRef{IUR 7}{ Modificar información escolar} especificando el dato cuya longitud excede el tamaño máximo permitido.
   \UCpaso[] Continúa en el paso \ref{cur7:Acciones} de la trayectoria principal.
 \end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}{F}{El actor no ingresó un dato marcado como requerido.}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG5}{Falta un dato requerido para efectuar la operación solicitada} y
    señala el campo que presenta la omisión en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar}, para indicar que
    no puede efectuar la operación de registro debido a la falta de información requerida.
   \UCpaso[] Continúa en el paso \ref{cur7:Acciones} de la trayectoria principal.
 \end{UCtrayectoriaA}
 
   \begin{UCtrayectoriaA}{G}{El actor ingresó un tipo de dato incorrecto.}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG6}{Formato incorrecto} y señala el campo que presenta el dato inválido en la 
    pantalla \cdtIdRef{IUR 7}{Modificar información escolar} para indicar que se ha ingresado un tipo de dato inválido.
    \UCpaso[] Continúa con el paso \ref{cur7:Acciones} de la trayectoria principal.
 \end{UCtrayectoriaA}

   \begin{UCtrayectoriaA}{H}{La región no está asociada al municipio donde se encuentra la escuela.}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG18}{Error en la región} en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} para notificar al actor que la escuela no se encuentra en un municipio asociado a la región seleccionada.
    \UCpaso[] Continúa con el paso \ref{cur7:termina} de la trayectoria principal.
 \end{UCtrayectoriaA}
 
 \begin{UCtrayectoriaA}{I}{El actor ingresó una superficie construida que supera la superficie total del predio.}
  \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG3}{Superficies del predio} en la pantalla \cdtIdRef{IUR 7}{Modificar información escolar} para notificar al actor que la superficie construida que ha ingresado supera la superficie total del predio.
    \UCpaso[] Continúa con el paso \ref{cur7:Acciones} de la trayectoria principal.
 \end{UCtrayectoriaA}
 
%  \begin{UCtrayectoriaA}{F}{El actor desea cancelar el envío de información.}
%     \UCpaso[\UCactor] Solicita cancelar la operación oprimiendo el botón de \cdtButton{Cancelar} de la \cdtRef{fig:pantallaEmergente}{pantalla emergente}.
%     \UCpaso[] Continúa en el paso \ref{cur7:Acciones} de la trayectoria principal.
%  \end{UCtrayectoriaA}
