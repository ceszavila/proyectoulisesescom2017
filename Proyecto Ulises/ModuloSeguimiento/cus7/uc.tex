%!TEX encoding = UTF-8 Unicode

\begin{UseCase}{CUS 7}{Registrar avance de meta de consumo responsable}
{
    Las metas permiten conocer el resultado que se espera obtener al realizar el conjunto de acciones definidas. Este caso de uso permite visualizar la información del progreso de la meta establecida, su avance con base en las acciones y el periodo de ejecución, con el fin de registrar el avance asociado a la meta.
}
    
    \UCitem{Versión}{1.0}
    \UCccsection{Administración de Requerimientos}
    \UCitem{Autor}{Francisco Javier Ponce}
    \UCccitem{Evaluador}{}
    \UCitem{Operación}{Registrar}
    \UCccitem{Prioridad}{Media}
    \UCccitem{Complejidad}{Media}
    \UCccitem{Volatilidad}{Media}
    \UCccitem{Madurez}{Media}
    \UCitem{Estatus}{Terminado}
    \UCitem{Fecha del último estatus}{8 de Diciembre del 2014}

    
%% Copie y pegue este bloque tantas veces como revisiones tenga el caso de uso.
%% Esta sección la debe llenar solo el Revisor
% %--------------------------------------------------------
%   \UCccsection{Revisión Versión XX} % Anote la versión que se revisó.
%   % FECHA: Anote la fecha en que se terminó la revisión.
%   \UCccitem{Fecha}{Fecha en que se termino la revisión} 
%   % EVALUADOR: Coloque el nombre completo de quien realizó la revisión.
%   \UCccitem{Evaluador}{Nombre de quien revisó}
%   % RESULTADO: Coloque la palabra que mas se apegue al tipo de acción que el analista debe realizar.
%   \UCccitem{Resultado}{Corregir, Desechar, Rehacer todo, terminar.}
%   % OBSERVACIONES: Liste los cambios que debe realizar el Analista.
%   \UCccitem{Observaciones}{
%       \begin{UClist}
%           % PC: Petición de Cambio, describa el trabajo a realizar, si es posible indique la causa de la PC. Opcionalmente especifique la fecha en que considera razonable que se deba terminar la PC. No olvide que la numeración no se debe reiniciar en una segunda o tercera revisión.
%           \RCitem{PC1}{\TODO{Descripción del pendiente}}{Fecha de entrega}
%           \RCitem{PC2}{\TODO{Descripción del pendiente}}{Fecha de entrega}
%           \RCitem{PC3}{\TODO{Descripción del pendiente}}{Fecha de entrega}
%       \end{UClist}        
%   }
% %--------------------------------------------------------

    \UCsection{Atributos}
    \UCitem{Actor}{\cdtRef{actor:usuarioEscuela}{Coordinador del programa}}
    \UCitem{Propósito}{Registrar el avance asociado a una meta de consumo responsable.}
    \UCitem{Entradas}{
    \begin{UClist}
        \UCli  Avance del valor asociado a la meta:
        \begin{itemize}
         \item \cdtRef{gls:avanceAccion}{Avance de actividades}: \ioEscribir.
         \item \cdtRef{gls:avanceAccion}{Avance de alumnos}: \ioEscribir.
         \item \cdtRef{gls:avanceAccion}{Avance de personal docente y administrativo}: \ioEscribir.
         \item \cdtRef{gls:avanceAccion}{Avance de personal directivo}: \ioEscribir.
         \item \cdtRef{gls:avanceAccion}{Avance de padres de familia}: \ioEscribir.      
         \item \cdtRef{gls:avanceAccion}{Avance de compras verdes}: \ioEscribir.
        \end{itemize}
        
        \UCli Evidencias:
        \begin{itemize}
         \item Archivo: \ioSeleccionar.
        \end{itemize}
    \end{UClist}
    }
    \UCitem{Salidas}{
    \begin{UClist} 
        \UCli Información de la meta:
        \begin{itemize}
        \item Periodo: \ioObtener.
        \item \cdtRef{meta:problematica}{Problemática}: \ioObtener.
        \item \cdtRef{meta:meta}{Meta}: \ioObtener.
        \item \cdtRef{meta:fechaInicio}{Fecha de inicio de ejecución}: \ioObtener.
        \item \cdtRef{meta:fechaTermino}{Fecha de término de ejecución}: \ioObtener.        
        \end{itemize}
        
        \UCli Avance de meta
        \begin{itemize}
         \item Avance de meta: \ioCalcular \cdtIdRef{RN-N17}{Calcular avance de la meta}.
        \end{itemize}

        \UCli Avance del valor asociado a la meta:
        \begin{itemize}
         \item \cdtRef{avanceCapacitacion:avanceActividades}{Avance acumulado de actividades}: \ioCalcular \cdtIdRef{RN-N16}{Calcular avance acumulado}.
         \item \cdtRef{capacitacionSensibilizacion:numActividades}{Número de actividades a alcanzar}: \ioObtener.
         
         \item \cdtRef{avanceCapacitacion:avanceAlumnos}{Avance acumulado de alumnos}: \ioCalcular \cdtIdRef{RN-N16}{Calcular avance acumulado}.
         \item \cdtRef{capacitacionSensibilizacion:numAlumnos}{Número de alumnos a alcanzar}: \ioObtener.
         
         \item \cdtRef{avanceCapacitacion:avanceDocenteAdministrativo}{Avance acumulado de personal docente y administrativo}: \ioCalcular \cdtIdRef{RN-N16}{Calcular avance acumulado}.
         \item \cdtRef{capacitacionSensibilizacion:numDocenteAdministrativo}{Número de personal docente y administrativo a alcanzar}: \ioObtener.
         
         \item \cdtRef{avanceCapacitacion:avanceDirectivos}{Avance acumulado de personal directivo}: \ioCalcular \cdtIdRef{RN-N16}{Calcular avance acumulado}.
         \item \cdtRef{capacitacionSensibilizacion:numDirectivos}{Número de personal directivo a alcanzar}: \ioObtener.
         
         \item \cdtRef{avanceCapacitacion:avancePadres}{Avance acumulado de padres de familia}: \ioCalcular \cdtIdRef{RN-N16}{Calcular avance acumulado}.
         \item \cdtRef{capacitacionSensibilizacion:numPadres}{Número de padres de familia a alcanzar}: \ioObtener.
         
        \item \cdtRef{avanceComprasVerdes:avance}{Avance acumulado de compras verdes}: \ioCalcular \cdtIdRef{RN-N16}{Calcular avance acumulado}.
        \item \cdtRef{mejoraComprasVerdes:compras}{Número de compras a realizar}: \ioObtener.
        \end{itemize}
   
        \UCli \cdtIdRef{MSG1}{Operación realizada exitosamente:} Se muestra en la pantalla \cdtIdRef{IUS 5}{Administrar avances de consumo responsable} cuando el registro del avance para la acción se ha realizado correctamente.
    \end{UClist}
    }
    
    \UCitem{Precondiciones}{
    \begin{UClist}
        \UCli {\bf Interna:} Que la escuela se encuentre en estado \cdtRef{estado:avanceEdicion}{Avance en edición}.
        \UCli {\bf Interna:} Que el periodo de registros de avances se encuentre vigente.
    \end{UClist}
    }
    
    \UCitem{Postcondiciones}{
    \begin{UClist}
        \UCli {\bf Interna:} La meta tendrá avances registrados.
    \end{UClist}
    }

    \UCitem{Reglas de negocio}{
        \begin{UClist}
        \UCli \cdtIdRef{RN-S1}{Información correcta}: Verifica que la información introducida sea correcta.
        \UCli \cdtIdRef{RN-N16}{Calcular avance acumulado}: Calcula el avance acumulado para cada uno de los valores asociados a la meta de consumo responsable.
    \end{UClist}
    }

    \UCitem{Errores}{
    \begin{UClist}
        \UCli \cdtIdRef{MSG6}{Formato incorrecto}: Se muestra en la pantalla \cdtIdRef{IUS 7}{Registrar avance de meta de consumo responsable} cuando el tipo de dato ingresado no cumple con el tipo de dato solicitado en el campo.
        
        \UCli \cdtIdRef{MSG7}{Se ha excedido la longitud máxima del campo}: Se muestra en la pantalla \cdtIdRef{IUS 7}{Registrar avance de meta de consumo responsable} cuando se ha excedido la longitud de alguno de los campos.    
        
        \UCli  \cdtIdRef{MSG28}{Operación no permitida por estado de la entidad}: Se muestra en la pantalla \cdtIdRef{IUS 5}{Administrar avances de consumo responsable} indicando al actor que no se pueden registrar avances debido al estado en que se encuentra el seguimiento.

        \UCli \cdtIdRef{MSG41}{Acción fuera del periodo}: Se muestra en la pantalla \cdtIdRef{IUS 18}{Administrar avances de agua} para indicarle al actor que no puede registrar avances en las acciones de la meta de agua debido a que la fecha actual se encuentra fuera del periodo definido por la SMAGEM para realizar la acción.
    \end{UClist}
    }

    
    \UCitem{Tipo}{Secundario, extiende del caso de uso \cdtIdRef{CUS 5}{Administrar avances de consumo responsable}.}

%    \UCitem{Fuente}{
%   \begin{UClist}
%       \UCli Minuta de la reunión \cdtIdRef{M-17RT}{Reunión de trabajo}.
%   \end{UClist}
%    }

\end{UseCase}


 \begin{UCtrayectoria}
    \UCpaso[\UCactor] Solicita registrar un avance de una meta oprimiendo el botón \botMetas del registro correspondiente en la pantalla \cdtIdRef{IUS 5}{Administrar avances de consumo responsable}.
    \UCpaso[\UCsist] Verifica que la escuela se encuentre en estado ``Avance en edición''. \refTray{A}.
    \UCpaso[\UCsist] Verifica que la fecha actual se encuentre dentro del periodo definido por la SMAGEM para registrar avances. \refTray{E}.
    %\UCpaso[\UCsist] Calcula el avance acumulado para cada uno de los valores asociados a la meta de consumo responsable con base en la regla de negocio \cdtIdRef{RN-N16}{Calcular avance acumulado}.
    \UCpaso[\UCsist] Muestra la pantalla \cdtIdRef{IUS 7}{Registrar avance de meta de consumo responsable} con la información referente a la meta de consumo responsable. 
    \UCpaso[\UCactor] Ingresa los datos requeridos en la pantalla \cdtIdRef{IUS 7}{Registrar avance de meta de consumo responsable}. \label{cus7:RegAvance}
    \UCpaso[\UCactor] Oprime el botón \cdtButton{Aceptar} en la pantalla \cdtIdRef{IUS 7}{Registrar avance de meta de consumo responsable}. \refTray{B}. \refTray{C}. \refTray{D}.


    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG1}{Operación realizada exitosamente} en la pantalla \cdtIdRef{IUS 5}{Administrar avances de consumo responsable} indicando al actor que el avance se ha registrado exitosamente.
 \end{UCtrayectoria}
 
    \begin{UCtrayectoriaA}[Fin del caso de uso]{A}{La escuela no se encuentra en un estado que permita registrar avances.}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG28}{Operación no permitida por estado de la entidad} en la pantalla \cdtIdRef{IUS 5}{Administrar avances de consumo responsable} indicando al actor que no puede registrar avance para la meta debido a que la escuela no se encuentra en estado ``Avance en edición''. 
    \end{UCtrayectoriaA}
 
    \begin{UCtrayectoriaA}{B}{El actor ingresó un tipo de dato incorrecto.}    
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG6}{Formato incorrecto} en la pantalla \cdtIdRef{IUS 7}{Registrar avance de meta de consumo responsable} indicando que el registro del avance para la meta no puede realizarse debido a que la información ingresada no es correcta.
    \UCpaso[] Continúa con el paso \ref{cus7:RegAvance} de la trayectoria principal.     
    \end{UCtrayectoriaA}
    
    \begin{UCtrayectoriaA}{C}{El actor ingresó un dato que excede la longitud máxima.}    
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG7}{Se ha excedido la longitud máxima del campo} en la pantalla \cdtIdRef{IUS 7}{Registrar avance de meta de consumo responsable} indicando que el registro de un avance de meta no puede realizarse debido a que la longitud del campo excede la longitud máxima definida.
    \UCpaso[] Continúa con el paso \ref{cus7:RegAvance} de la trayectoria principal.     
    \end{UCtrayectoriaA}
 
     \begin{UCtrayectoriaA}{D}{El actor desea cancelar la operación.}
      \UCpaso[\UCactor] Solicita cancelar la operación oprimiendo el botón \cdtButton{Cancelar} en la pantalla \cdtIdRef{IUS 7}{Registrar avance de meta de consumo responsable}.
      \UCpaso[\UCsist] Regresa a la pantalla \cdtIdRef{IUS 5}{Administrar avances de consumo responsable}. 
    \end{UCtrayectoriaA}

    \begin{UCtrayectoriaA}[Fin del caso de uso]{E}{La fecha actual se encuentra fuera del periodo definido por la SMAGEM para el registro de avances.}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG41}{Acción fuera del periodo} en la pantalla \cdtIdRef{IUS 5}{Administrar avances de consumo responsable} indicando al actor que no puede registrar avances debido a que la fecha actual se encuentra fuera del periodo definido por la SMAGEM para realizar la acción. 
    \end{UCtrayectoriaA}