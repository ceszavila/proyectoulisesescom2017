\begin{UseCase}{CUPAE 2}{Modificar meta de ambiente escolar}
	{
		Este caso de uso permite al actor modificar una \cdtRef{gls:meta}{meta} de la línea de acción ``Ambiente escolar'' cuando existen errores o actualizaciones en la información. 
		El actor podrá visualizar la información previamente registrada e ingresar la nueva información, cuando los datos solicitados para la meta
		sean ingresados serán validados y se realizará la actualización de la información.
	}
	\UCitem{Versión}{1.0}
	\UCccsection{Administración de Requerimientos}	
	\UCitem{Autor}{Natalia Giselle Hernández Sánchez}
	\UCccitem{Evaluador}{}
	\UCitem{Operación}{Modificación}
	\UCccitem{Prioridad}{Alta}
	\UCccitem{Complejidad}{Media}
	\UCccitem{Volatilidad}{Media}
	\UCccitem{Madurez}{Media}
	\UCitem{Estatus}{Terminado} 
	\UCitem{Fecha del último estatus}{03 de diciembre de 2014}

	\UCsection{Atributos}
	\UCitem{Actor}{\cdtRef{actor:usuarioEscuela}{Coordinador del programa}}
	\UCitem{Propósito}{Modificar una meta de la línea de acción ``Ambiente escolar'' cuando se detectan errores o actualizaciones en la información.}
	\UCitem{Entradas}{
	  \begin{UClist}
	    \UCli De la sección ``Información de la meta'':
	      \begin{Citemize}
		\item \cdtRef{meta:problematica}{Problemática}: \ioEscribir.
		\item \cdtRef{meta:meta}{Meta}: \ioEscribir.
		\item \cdtRef{meta:fechaInicio}{Fecha de inicio de ejecución de la meta}: \ioCalendario.
		\item \cdtRef{meta:fechaTermino}{Fecha de término de ejecución de la meta}: \ioCalendario.
	      \end{Citemize}
	   \UCli De la sección ``Información de las mejoras'':
	      \begin{Citemize}
		\item \cdtRef{mejoraEspacio}{Mejora de espacio}: \ioRadioBoton. %PENDIENTE
		\item \cdtRef{mejoraEspacio:tipoMejora}{Tipo de mejora}: \ioSeleccionar.
		\item \cdtRef{mejoraEspacio:tipoEspacio}{Espacio a mejorar}: \ioSeleccionar.
		\item \cdtRef{mejoraEspacio:numMejoras}{Número de mejoras}: \ioEscribir.
	      \end{Citemize}
	   \UCli De la sección ``Información de la capacitación y/o sensibilización'':
	      \begin{Citemize}
		\item \cdtRef{capacitacionSensibilizacion}{Enfocada a capacitación y/o sensibilización}: \ioRadioBoton.
		\item \cdtRef{capacitacionSensibilizacion:numActividades}{Número de actividades de capacitación y/o sensibilización a realizar}: \ioEscribir.
		\item \cdtRef{capacitacionSensibilizacion:numAlumnos}{Alumnos}: \ioEscribir.
		\item \cdtRef{capacitacionSensibilizacion:numDocenteAdministrativo}{Personal docente y administrativo}: \ioEscribir.
		\item \cdtRef{capacitacionSensibilizacion:numDirectivos}{Personal directivo}: \ioEscribir.
		\item \cdtRef{capacitacionSensibilizacion:numPadres}{Padres de familia}: \ioEscribir.
	      \end{Citemize}
	    \UCli De la sección ``Cuantificar meta'':
	      \begin{Citemize}
		\item \cdtRef{meta:valorAlcanzar}{Valor a alcanzar}: \ioEscribir.
		\item \cdtRef{meta:nombreValor}{Descripción del valor a alcanzar}: \ioEscribir.
		\item \cdtRef{unidad}{Unidad}: \ioSeleccionar.
		\item \cdtRef{unidad:unidad}{Nueva unidad}: \ioEscribir.
	      \end{Citemize}
	  \end{UClist}
	}
	
	\UCitem{Salidas}{
	    \begin{UClist} 
	    \UCli \cdtRef{gls:periodoPlanAccion}{Periodo para ejecutar el plan de acción}: \ioObtener.
	    \UCli De la sección ``Información de la meta'':
	      \begin{Citemize}
		\item \cdtRef{meta:problematica}{Problemática}: \ioObtener.
		\item \cdtRef{meta:meta}{Meta}: \ioObtener.
		\item \cdtRef{meta:fechaInicio}{Fecha de inicio de ejecución de la meta}: \ioObtener.
		\item \cdtRef{meta:fechaTermino}{Fecha de término de ejecución de la meta}: \ioObtener.
	      \end{Citemize}
	   \UCli De la sección ``Información de las mejoras'':
	      \begin{Citemize}
		\item \cdtRef{mejoraEspacio}{Mejora de espacio}: \ioObtener. %PENDIENTE
		\item \cdtRef{mejoraEspacio:tipoMejora}{Tipo de mejora}: \ioObtener.
		\item \cdtRef{mejoraEspacio:tipoEspacio}{Espacio a mejorar}: \ioObtener.
		\item \cdtRef{mejoraEspacio:numMejoras}{Número de mejoras}: \ioObtener.
	      \end{Citemize}
	   \UCli De la sección ``Información de la capacitación y/o sensibilización'':
	      \begin{Citemize}
		\item \cdtRef{capacitacionSensibilizacion}{Enfocada a capacitación y/o sensibilización}: \ioObtener.
		\item \cdtRef{capacitacionSensibilizacion:numActividades}{Número de actividades de capacitación y/o sensibilización a realizar}: \ioObtener.
		\item \cdtRef{capacitacionSensibilizacion:numAlumnos}{Alumnos}: \ioObtener.
		\item \cdtRef{capacitacionSensibilizacion:numDocenteAdministrativo}{Personal docente y administrativo}: \ioObtener.
		\item \cdtRef{capacitacionSensibilizacion:numDirectivos}{Personal directivo}: \ioObtener.
		\item \cdtRef{capacitacionSensibilizacion:numPadres}{Padres de familia}: \ioObtener.
	      \end{Citemize}
	    \UCli De la sección ``Cuantificar meta'':
	      \begin{Citemize}
		\item \cdtRef{meta:valorAlcanzar}{Valor a alcanzar}: \ioObtener.
		\item \cdtRef{meta:nombreValor}{Descripción del valor a alcanzar}: \ioObtener.
		\item \cdtRef{unidad}{Unidad}: \ioObtener.
		\item \cdtRef{unidad:unidad}{Nueva unidad}: \ioObtener.
	      \end{Citemize}
	    \UCli \cdtIdRef{MSG1}{Operación realizada exitosamente}: Se muestra en la pantalla \cdtIdRef{IUP 5}{Administrar metas} cuando la meta se ha registrado correctamente.
	    \UCli \cdtIdRef{MSG38}{Número de mejoras a realizar}: Se muestra en la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar} como etiqueta en el campo de número de mejoras.
	    \end{UClist}
	}
	\UCitem{Precondiciones}{
		\begin{UClist}
			\UCli {\bf Interna:} Que la escuela se encuentre en estado \cdtRef{estado:planEdicion}{Plan de acción en edición}.
			\UCli {\bf Interna:} Que el periodo de registro de plan de acción se encuentre vigente.		
			\UCli {\bf Interna:} Que exista información referente al tipo de mejora.
			\UCli {\bf Interna:} Que exista información referente al espacio a mejorar.
			\UCli {\bf Interna:} Que exista información referente a la unidad.
		\end{UClist}
	}
	
	\UCitem{Postcondiciones}{
		\begin{UClist}
 			\UCli {\bf Interna:} Se modificará la meta en el sistema.
 			\UCli {\bf Interna:} Se registrará una unidad con estado ``Por aprobar''.
		\end{UClist}
	}
	
	\UCitem{Reglas de negocio}{
		\begin{UClist}
			\UCli \cdtIdRef{RN-S1}{Información correcta}: Verifica que la información ingresada por el actor sea correcta.
		\end{UClist}
	}
	
	\UCitem{Errores}{
		\begin{UClist}
			\UCli \cdtIdRef{MSG4}{No se encontró información sustantiva}: Se muestra en la pantalla \cdtIdRef{IUP 5}{Administrar metas} cuando hace falta información referente al tipo de mejora, espacio a mejorar o a la unidad.
			\UCli \cdtIdRef{MSG5}{Falta un dato requerido para efectuar la operación solicitada}: Se muestra en la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar} cuando el actor no ingresó un dato requerido para realizar la operación.
			\UCli \cdtIdRef{MSG6}{Formato incorrecto}: Se muestra en la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar} cuando el formato de alguno de los datos ingresados es incorrecto.
 			\UCli \cdtIdRef{MSG7}{Se ha excedido la longitud máxima del campo}: Se muestra en la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar} cuando el actor escribió un dato que excede el tamaño especificado por el sistema.
			\UCli \cdtIdRef{MSG28}{Operación no permitida por estado de la entidad}: Se muestra en la pantalla en que se encuentre navegando el actor debido al estado en que se encuentra la escuela.
			\UCli \cdtIdRef{MSG41}{Acción fuera del periodo}: Se muestra en la pantalla en que se encuentre navegando el actor indicando que la fecha no se encuentra dentro del periodo de registro de plan de acción. 			
		\end{UClist}
	}
	\UCitem{Tipo}{Secundario, extiende del caso de uso \cdtIdRef{CUP 5}{Administrar metas}}

% 	\UCitem{Fuente}{
% 		\begin{UClist}
% 			\UCli 
% 		\end{UClist}
% 	}

 \end{UseCase}
 
 
\begin{UCtrayectoria}
	\UCpaso[\UCactor] Solicita modificar una meta oprimiendo el botón \botEdit del registro que desea modificar en la pantalla \cdtIdRef{IUP 5}{Administrar metas}. 
	\UCpaso[\UCsist] Verifica que la escuela se encuentre en  estado ``Plan de acción en edición''. \refTray{A}.
	\UCpaso[\UCsist] Verifica que la fecha actual se encuentre dentro del periodo definido por la SMAGEM para el registro del plan de acción. \refTray{B}.	
	\UCpaso[\UCsist] Busca el periodo de ejecución del plan de acción.
	\UCpaso[\UCsist] Verifica que exista información referente al tipo de mejora, espacio a mejorar o a la unidad. \refTray{C}
	\UCpaso[\UCsist] Muestra la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar} por medio de la cual se realizará la modificación de la meta.
	\UCpaso[\UCactor] Modifica los datos correspondientes a la sección ``Información de la meta'' de la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}. \label{cupae2:ingresaDatos}
	\UCpaso[\UCactor] Selecciona que el \cdtRef{gls:enfoqueMeta}{enfoque de la meta} es ``Mejora de espacio'' en la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}. \refTray{D}
	\UCpaso[\UCsist] Muestra los campos referentes a la mejora de espacio en la pantalla \cdtIdRef{IUPAE 2.1}{Modificar meta de ambiente escolar: Mejora de espacio}.
	\UCpaso[\UCactor] Selecciona el tipo de mejora y el espacio a mejorar en la pantalla \cdtIdRef{IUPAE 2.1}{Modificar meta de ambiente escolar: Mejora de espacio}.
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG35}{Registrar residuos sólidos} indicando si se trata de la reducción o reciclaje de residuos.
	\UCpaso[\UCactor] Ingresa el número de mejoras a realizar en la pantalla \cdtIdRef{IUPAE 2.1}{Modificar meta de ambiente escolar: Mejora de espacio}.
	\UCpaso[\UCactor] Solicita modificar la meta oprimiendo el botón \cdtButton{Aceptar} de la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}. \refTray{G}
	\UCpaso[\UCsist] Verifica que la escuela se encuentre en  estado ``Plan de acción en edición''. \refTray{A}.
	\UCpaso[\UCsist] Verifica que los datos ingresados por el actor sean correctos como lo indica la regla de negocio \cdtIdRef{RN-S1}{Información correcta}. \refTray{H} \refTray{I} \refTray{J}
	\UCpaso[\UCsist] Registra la modificación de la meta en el sistema con enfoque ``Mejora de espacio''.
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG1}{Operación realizada exitosamente} en la pantalla \cdtIdRef{IUP 5}{Administrar metas} indicando que se ha realizado la modificación de la meta satisfactoriamente. \label{cupae2:muestraMensaje}
\end{UCtrayectoria}
 
\begin{UCtrayectoriaA}[Fin del caso de uso]{A}{La escuela no se encuentra en el estado ``Plan de acción en edición''.}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG28}{Operación no permitida por estado de la entidad} en la pantalla en que se encuentre navegando el actor indicando que no puede administrar los objetivos del plan de acción debido a que la escuela no se encuentra en el estado ``Plan de acción en edición''. 
 \end{UCtrayectoriaA}
 
   \begin{UCtrayectoriaA}[Fin del caso de uso]{B}{La fecha actual se encuentra fuera del periodo definido por la SMAGEM para el registro del plan de acción}
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG41}{Acción fuera del periodo} en la pantalla en que se encuentre navegando el actor indicando que no puede administrar los objetivos del plan de acción debido a que la fecha actual se encuentra fuera del periodo definido por la SMAGEM para el registro del plan de acción.
 \end{UCtrayectoriaA}
  
 
 
\begin{UCtrayectoriaA}[Fin del caso de uso]{C}{No existe información referente al tipo de mejora, espacio a mejorar o a la unidad.}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG4}{No se encontró información sustantiva} en la pantalla \cdtIdRef{IUP 5}{Administrar metas} indicando que la operación no puede continuar debido a la falta información necesaria para el sistema.
\end{UCtrayectoriaA}

\begin{UCtrayectoriaA}{D}{El actor selecciona que el enfoque de la meta no es ``Mejora de espacio''.}
	\UCpaso[\UCactor] Selecciona que el \cdtRef{gls:enfoqueMeta}{enfoque de la meta} no es ``Mejora de espacios''. 
	\UCpaso[\UCsist] Muestra la sección ``Información de la capacitación y/o sensibilización'' en la pantalla \cdtIdRef{IUPAE 2.2}{Modificar meta de ambiente escolar: Capacitación y/o sensibilización}.
	\UCpaso[\UCactor] Selecciona que el \cdtRef{gls:enfoqueMeta}{enfoque de la meta} es ``Capacitación y/o sensibilización''. \refTray{E}
	\UCpaso[\UCactor] Modifica los datos correspondientes a la sección ``Información de la capacitación y/o sensibilización'' de la pantalla \cdtIdRef{IUPAE 2.2}{Modificar meta de ambiente escolar: Capacitación y/o sensibilización}.
	\UCpaso[\UCactor] Solicita modificar la meta oprimiendo el botón \cdtButton{Aceptar} de la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}. \refTray{G} 
	\UCpaso[\UCsist] Verifica que los datos ingresados por el actor sean correctos como lo indica la regla de negocio \cdtIdRef{RN-S1}{Información correcta}. \refTray{H} \refTray{I} \refTray{J}
	\UCpaso[\UCsist] Registra la modificación de meta en el sistema con enfoque ``Capacitación y/o sensibilización''.
	\UCpaso[] Continúa en el paso \ref{cupae2:muestraMensaje} de la trayectoria principal.
\end{UCtrayectoriaA}

\begin{UCtrayectoriaA}{E}{El actor selecciona que el enfoque de la meta no es ``Capacitación y/o sensibilización''.}
	\UCpaso[\UCactor] Selecciona que \cdtRef{gls:enfoqueMeta}{enfoque de la meta} no es ``Capacitación y/o sensibilización''. 
	\UCpaso[\UCsist] Muestra la sección ``Cuantificar meta'' en la pantalla \cdtIdRef{IUPAE 2.3}{Modificar meta de ambiente escolar: Cuantificar meta}.
	\UCpaso[\UCactor] Modifica el valor y el nombre del valor a alcanzar en la sección ``Cuantificar meta'' de la pantalla \cdtIdRef{IUPAE 2.3}{Modificar meta de ambiente escolar: Cuantificar meta}.
	\UCpaso[\UCactor] Selecciona la unidad del valor a alcanzar en la sección ``Cuantificar meta'' de la pantalla \cdtIdRef{IUPAE 2.3}{Modificar meta de ambiente escolar: Cuantificar meta}. \refTray{F}
	\UCpaso[\UCactor] Solicita modificar la meta oprimiendo el botón \cdtButton{Aceptar} de la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}. \refTray{G} 
	\UCpaso[\UCsist] Verifica que los datos ingresados por el actor sean correctos como lo indica la regla de negocio \cdtIdRef{RN-S1}{Información correcta}. \refTray{H} \refTray{I} \refTray{J}
	\UCpaso[\UCsist] Registra la modificación de meta en el sistema con enfoque ``General''.
	\UCpaso[] Continúa en el paso \ref{cupae2:muestraMensaje} de la trayectoria principal.
\end{UCtrayectoriaA}

\begin{UCtrayectoriaA}{F}{El actor selecciona la opción ``Otra'' como unidad del valor a alcanzar.}
	\UCpaso[\UCactor] Selecciona ``Otra'' como la unidad del valor a alcanzar en la sección ``Cuantificar meta'' de la pantalla \cdtIdRef{IUPAE 2.3}{Modificar meta de ambiente escolar: Cuantificar meta}.
	\UCpaso[\UCsist] Muestra la pantalla  \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar} con el campo ``Nueva unidad''.
	\UCpaso[\UCactor] Modifica la nueva unidad del valor a alcanzar.
	\UCpaso[\UCactor] Solicita modificar la meta oprimiendo el botón \cdtButton{Aceptar} de la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}. \refTray{G} 
	\UCpaso[\UCsist] Verifica que los datos ingresados por el actor sean correctos como lo indica la regla de negocio \cdtIdRef{RN-S1}{Información correcta}. \refTray{H} \refTray{I} \refTray{J}
	\UCpaso[\UCsist] Modifica la nueva unidad en el sistema con estado ``Por aprobar''.
	\UCpaso[\UCsist] Registra la modificación de meta en el sistema con enfoque ``General''.
	\UCpaso[] Continúa en el paso \ref{cupae2:muestraMensaje} de la trayectoria principal.
\end{UCtrayectoriaA} 

\begin{UCtrayectoriaA}[Fin del caso de uso]{G}{El actor desea cancelar la operación.}
	\UCpaso[\UCactor] Solicita cancelar la operación oprimiendo el botón \cdtButton{Cancelar} de la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}.
	\UCpaso[\UCsist] Muestra la pantalla  \cdtIdRef{IUP 5}{Administrar metas}.
\end{UCtrayectoriaA} 

\begin{UCtrayectoriaA}{H}{El actor no proporcionó alguno de los datos requeridos.}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG5}{Falta un dato requerido para efectuar la operación solicitada} en la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar},
	indicando que no se puede modificar la meta debido a la omisión de un dato requerido y señala los campos faltantes.
	\UCpaso[] Continúa en el paso \ref{cupae2:ingresaDatos} de la trayectoria principal.
\end{UCtrayectoriaA}

\begin{UCtrayectoriaA}{I}{El actor proporcionó un dato que es incorrecto.}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG6}{Formato incorrecto} en la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}
	cuando se ha ingresado un dato con formato inválido y señala los campos inválidos.
	\UCpaso[] Continúa en el paso \ref{cupae2:ingresaDatos} de la trayectoria principal.
\end{UCtrayectoriaA}
 
\begin{UCtrayectoriaA}{J}{El actor proporcionó un dato que excede la longitud máxima.}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG7}{Se ha excedido la longitud máxima del campo} en la pantalla \cdtIdRef{IUPAE 2}{Modificar meta de ambiente escolar}
	cuando se ha excedido la longitud máxima permitida y señala los campos que excedieron la longitud.
	\UCpaso[] Continúa en el paso \ref{cupae2:ingresaDatos} de la trayectoria principal.
\end{UCtrayectoriaA}
